<div class="standard-margin">
  <div class="row" style="margin-left: 1px; margin-bottom: 5px;">
    <div class="col-xs-9 col-md-9">
      <select class="form-control" style="width: 300px; float: left;" (change)="optionSelected($event)">
        <option value="1">Show all Parts</option>
        <option value="2">Select by Customer</option>
        <option value="3">Select by Supplier</option>
        <option value="4">Select by Warehouse</option>
      </select>
      <select class="form-control" style="width: 300px; float: left;" (change)="filterBySelection($event)" *ngIf="filterOption > 1">
        <option value="-1">Please select the option</option>
        <option *ngFor="let item of filter" [value]="item.id">{{item.name}}</option>
      </select>
      <div class="form-check" style="margin-left: 15px; padding-top: 5px;" *ngIf="monthlyCustomer">
        <input class="form-check-input" type="checkbox" id="showOtherColumns" (change)="showOtherColumnsForInventory()" [(ngModel)]="showOtherColumns">
        <label class="form-check-label" for="showOtherColumns">
          View Company Inventory
        </label>
      </div>
    </div>
    <div class="col-md-3 col-xs-3">
      <div class="row">
        <input type="date" class="form-control col-xs-6 col-md-6" [(ngModel)]="from"/>
        <button class="btn btn-primary" style="margin-left: 10px;" (click)="getAllPartsForCompany(true)">Generate</button>
      </div>
    </div>
  </div>
  
<simple-grid [data]="parts" [columns]="columns" [addRequired]="false" [exportRequired]="true" (additionalEventEmitter)='additionalEventEmitted($event)'
  (selectedRow)="rowSelected($event)" (addClickedEventEmitter)="addPart()" (actionButtonClickedEvent)="[actionButtonClicked($event)]">

  </simple-grid>
</div>

<loader></loader>

<div style="top: 0px; left: 0px; width: 100%; height: 100%; position: absolute; background-color: lightgray; opacity: 0.9;" *ngIf='showModal'>
  <div style="top: 25%; left: 40%; width: 400px; height: 200px; position: absolute; background-color: darkgray; opacity: 1;">
    <div style="width: 100%;">
      <div class="card">
        <div class="card-header">
          Part Inventory Quantity Adjustment
        </div>
        <div class="card-body">
          <div class="form-group">
            <label>Direction</label>
            <select [(ngModel)]="direction" class="form-control" >
              <option value="in">In</option>
              <option value="out">Out</option>
            </select>
          </div>
          <div class="form-group">
            <label>Quantity</label>
            <input type="text" class="form-control" [(ngModel)]="adjustedQty"/>
          </div>
          <div class="form-group">
            <label>Notes</label>
            <textarea type="text" class="form-control" [(ngModel)]="notes"></textarea>
          </div>
          <div>
            <button (click)="savePartAdjustment()" class="btn btn-primary">Save</button>
            <button (click)="showModal = false" class="btn btn-primary">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div style="top: 0px; left: 0px; width: 100%; height: 200%; position: absolute; background-color: lightgray; opacity: 0.9; z-index: 999999;" *ngIf='showOpenOrdersModal'>
  <div style="top: 15%; left: 25%; width: 800px; height: 300px; position: absolute; background-color: darkgray; opacity: 1;">
    <div style="width: 100%;">
      <div class="card">
        <div class="card-header">
        </div>
        <div class="card-body">
          <simple-grid [headerRequired]="false" [footerRequired]="false" [addRequired]="false" [exportRequired]="false" [columns]="columnsForModal" [data]="dataForModal" [ignoreColumnFiltering]="true"></simple-grid>
          <div>
            <button (click)="showOpenOrdersModal = false" class="btn btn-primary">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div style="top: 0px; left: 0px; width: 100%; height: 200%; position: absolute; background-color: lightgray; opacity: 0.9; z-index: 999999;" *ngIf='showInTransitModal'>
  <div style="top: 20%; left: 20%; width: 1000px; height: 300px; position: absolute; background-color: darkgray; opacity: 1;">
    <div style="width: 100%;">
      <div class="card">
        <div class="card-header">
        </div>
        <div class="card-body">
          <simple-grid [headerRequired]="false" [footerRequired]="false" [addRequired]="false" [exportRequired]="false" [columns]="columnsForModal" [data]="dataForModal" [ignoreColumnFiltering]="true"></simple-grid>
          <div>
            <button (click)="showInTransitModal = false" class="btn btn-primary">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div style="top: 0px; left: 0px; width: 100%; height: 100%; position: absolute; background-color: lightgray; opacity: 0.9; z-index: 999999;" *ngIf='showLatestShipmentsModal'>
  <div style="top: 10%; left: 20%; width: 1000px; height: 400px; position: absolute; background-color: darkgray; opacity: 1;">
    <div style="width: 100%;">
      <div class="card">
        <div class="card-header">
        </div>
        <div class="card-body">
          <simple-grid [headerRequired]="false" [footerRequired]="false" [addRequired]="false" [exportRequired]="false" [columns]="columnsForModal" [data]="dataForModal" [ignoreColumnFiltering]="true"></simple-grid>
          <simple-grid [headerRequired]="false" [footerRequired]="false" [addRequired]="false" [exportRequired]="false" [columns]="columnsForSecondaryGridInModal" [data]="dataForSecondaryGridInModal" [ignoreColumnFiltering]="true"></simple-grid>
          <simple-grid [headerRequired]="false" [footerRequired]="false" [addRequired]="false" [exportRequired]="false" [columns]="columnsForThirdGridInModal" [data]="dataForThirdGridInModal" [ignoreColumnFiltering]="true"></simple-grid>
          <div>
            <button (click)="showLatestShipmentsModal = false" class="btn btn-primary">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div style="top: 0px; left: 0px; width: 100%; height: 100%; position: absolute; background-color: lightgray; opacity: 0.9; z-index: 999999;" *ngIf='showSupplierOpnePoModal'>
  <div style="top: 20%; left: 10%; width: 1100px; height: 300px; position: absolute; background-color: darkgray; opacity: 1;">
    <div style="width: 100%;">
      <div class="card">
        <div class="card-header">
        </div>
        <div class="card-body">
          <simple-grid [headerRequired]="false" [footerRequired]="false" [addRequired]="false" [exportRequired]="false" [columns]="columnsForModal" [data]="dataForModal" [ignoreColumnFiltering]="true"></simple-grid>
          <div>
            <button (click)="showSupplierOpnePoModal = false" class="btn btn-primary">Cancel</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div style="top: 0px; left: 0px; width: 100%; height: 100%; position: absolute; background-color: lightgray; opacity: 0.9; z-index: 999999;" *ngIf='showTransferModal'>
  <div style="top: 20%; left: 30%; width: 600px; height: 200px; position: absolute; background-color: darkgray; opacity: 1;">
    <div style="width: 100%;">
      <div class="card">
        <div class="card-header">
          Transfer within warehouse
        </div>
        <div class="card-body">
          <div>
            <span>Quantity</span><input class="form-control" [(ngModel)]="transferQty" />
          </div>
          <div class="row" style="margin-top: 10px; margin-left: 1px;">
            <select class="form-control col-xs-4 col-md-4" [(ngModel)]="fromWarehouseId">
              <option value="0">Default</option>
              <option *ngFor="let warehouse of warehouses" [value]="warehouse.id">{{warehouse.name}}</option>
            </select>
            <button class="btn col-md-2 col-xs-2">TO</button>
            <select class="form-control col-xs-4 col-md-4" [(ngModel)]="toWarehouseId">
              <option value="0">Default</option>
              <option *ngFor="let warehouse of warehouses" [value]="warehouse.id">{{warehouse.name}}</option>
            </select>
          </div>
        </div>
        <div class="card-footer">
          <button (click)="transferToWarehouse()" class="btn btn-primary">Save</button>
          <button (click)="showTransferModal = false" class="btn btn-primary">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>